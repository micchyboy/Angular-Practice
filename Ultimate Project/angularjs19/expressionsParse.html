<!DOCTYPE html>
<html ng-app="exampleApp">
<head>
<title>Expressions</title>
<script src="angular.js"></script>
<link href="bootstrap.css" rel="stylesheet" />
<link href="bootstrap-theme.css" rel="stylesheet" />
<script>
	angular.module("exampleApp", [])
			.controller("defaultCtrl", function($scope) {
				$scope.dataValue = "100.23";
				
				$scope.totalControllers = 99;
				$scope.totalLocal = 300;
			})
			.directive("evalExpression", function($parse) {
				var expressionFn = $parse("totalLocals | currency");	
				return {
					scope : {
						amount : "=amount",
						tax : "=tax",
						totalLocals: "@totaLocal",
						totalController: "@total"
					},
					link : function(scope, element, attrs) {
						scope.$watch("totalLocals", function(newValue) {
							var localData = {
								totalLocals : Number(scope.totalLocals) + 369	
							};
							
							element.text(expressionFn(scope, localData));
						});
					}
				}
			});
</script>
</head>
<body ng-controller="defaultCtrl">
	<div class="well">
		<p>
			<input class="form-control" ng-model="totalLocal" />
		</p>
		<div>
			Result: <span eval-expression amount="dataValue" tax="10" tota-local="{{totalLocal}}" total="{{totalControllers}}" ></span>
		</div>
		<div>
<!-- 			Addition: {{totalControllers + totalLocal}} -->
		</div>
	</div>
</body>
</html>